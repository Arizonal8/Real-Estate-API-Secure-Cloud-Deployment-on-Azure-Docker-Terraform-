# 06_secrets-and-env-vars.txt
# Secrets and Environment Variables

## Problems I Faced
- ImageKit keys missing.
- MongoDB URI not loaded.
- SMTP credentials not mapped.

## Commands I Used
az containerapp secret set \
  --name realestate-api \
  --resource-group realestate-rg \
  --secrets \
    imagekit-public-key="..." \
    imagekit-private-key="..." \
    imagekit-url-endpoint="..." \
    mongo-uri="..." \
    smtp-user="..." \
    smtp-pass="..."

az containerapp update \
  --set-env-vars \
    IMAGEKIT_PUBLIC_KEY=secretref:imagekit-public-key \
    IMAGEKIT_PRIVATE_KEY=secretref:imagekit-private-key \
    IMAGEKIT_URL_ENDPOINT=secretref:imagekit-url-endpoint \
    MONGO_URI=secretref:mongo-uri \
    SMTP_USER=secretref:smtp-user \
    SMTP_PASS=secretref:smtp-pass

## Lessons Learned
Secrets must be set AND mapped to env vars.
